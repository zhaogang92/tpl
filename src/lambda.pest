var = @{
    ASCII_ALPHA+
}

abst = { "lambda" ~ var ~ "." ~ ( term | "(" ~ term ~ ")") }

app_template = _{ var | "(" ~ term ~ ")" }

app = { app_template ~ ( term | "(" ~ term ~ ")") }

term = _{ abst | app | var}

stmt = { term ~ ";" }

program = _{ SOI ~ NEWLINE* ~ (stmt ~ NEWLINE+)* ~ stmt? ~ EOI }


WHITESPACE = _{ " " }
COMMENT = _{ "/*" ~ (!"*/" ~ ANY)* ~ "*/" }